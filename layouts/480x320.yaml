font: !include
  file: fonts/fonts.yaml
  vars:
    text_sm: 16
    text_md: 20
    text_lg: 24
    text_xl: 32
    text_xxl: 48
    icons_sm: 20
    icons_md: 26
    icons_lg: 34
    icons_xl: 42
    icons_xxl: 50

.sizing:
  - &nav_widget_vars
    height: 50
    padding: 8

  - &page_styles
    <<: !include styles/page_styles.yaml
    pad_top: 50
    pad_bottom: 50

  - &container_styles
    <<: !include styles/container_styles.yaml
    pad_top: 0
    pad_bottom: 0
    pad_left: 6
    pad_right: 6

  - &button_layout
    <<: !include styles/button_layout.yaml
    pad_column: 8
    pad_row: 8

  - &button_widget_vars
    width: 49%
    height: 86

  - &wide_button_widget_vars
    width: 100%
    height: 86

  - &printer_layout
    <<: !include styles/printer_layout.yaml
    pad_row: 4

  - &printer_widget_vars
    pad_all: 5
    pad_row: 3
    bar_height: 4
    ams_tray_width: 45
    ams_tray_height: 20
    ams_tray_padding: 5

script:
  - id: go_home
    then:
      - lvgl.page.show: ${home_page}

lvgl:
  default_font: roboto_md
  theme: !include themes/main.yaml
  top_layer:
    widgets:
      - <<: !include { file: widgets/header/widget.yaml, vars: { <<: *nav_widget_vars } }
      - <<: !include { file: widgets/footer/widget.yaml, vars: { <<: *nav_widget_vars } }
      - <<: !include { file: widgets/boot_screen/widget.yaml }
  pages:
    - id: splash
      skip: true
      on_load:
        - script.execute: go_home

    - id: home
      <<: *page_styles
      on_load:
        - lvgl.label.update:
            id: page_title
            text: Home
      widgets:
        - obj:
            <<: *container_styles
            layout:
              <<: *button_layout
            widgets:
              - button: # sala button
                  <<: !include
                    file: widgets/buttons/text_buttons/stateless.yaml
                    vars:
                      uid: go_to_sala
                      text: Sala
                      <<: *button_widget_vars
                  on_short_click:
                    - lvgl.page.show: sala

              - button: # habitacion button
                  <<: !include
                    file: widgets/buttons/text_buttons/stateless.yaml
                    vars:
                      uid: go_to_habitacion
                      text: Habitacion
                      <<: *button_widget_vars
                  on_short_click:
                    - lvgl.page.show: habitacion

    - id: sala
      <<: *page_styles
      on_load:
        - lvgl.label.update:
            id: page_title
            text: Sala
      widgets:
        - obj:
            <<: *container_styles
            layout:
              <<: *button_layout
            widgets:
              - button: # luz sala
                  <<: !include
                    file: widgets/buttons/icon_text_buttons/light_buttons/widget.yaml
                    vars:
                      uid: sala_light
                      entity_id: light.sala_light
                      text: Luz Sala
                      <<: *button_widget_vars

              - button: # tv sala
                  <<: !include
                    file: widgets/buttons/icon_text_buttons/stateful.yaml
                    vars:
                      uid: sala_tv
                      icon_on: "\U000F0425"
                      icon_off: "\U000F0425"
                      text: TV
                      <<: *button_widget_vars
                  on_short_click:
                    - homeassistant.action:
                        action: media_player.toggle
                        data: { entity_id: media_player.sala_tv }

    - id: habitacion
      <<: *page_styles
      on_load:
        - lvgl.label.update:
            id: page_title
            text: Habitacion
      widgets:
        - obj:
            <<: *container_styles
            layout:
              <<: *button_layout
            widgets:
              - button: # luz habitacion
                  <<: !include
                    file: widgets/buttons/icon_text_buttons/light_buttons/widget.yaml
                    vars:
                      uid: habitacion_light
                      entity_id: light.habitacion_light
                      text: Luz
                      <<: *button_widget_vars

              - button: # ventilador
                  <<: !include
                    file: widgets/buttons/icon_text_buttons/stateful.yaml
                    vars:
                      uid: habitacion_fan
                      icon_on: "\U000F0210"
                      icon_off: "\U000F0210"
                      text: Ventilador
                      <<: *button_widget_vars
                  on_short_click:
                    - homeassistant.action:
                        action: fan.toggle
                        data: { entity_id: fan.habitacion_fan }

packages:
  # header
  header_sensors: !include { file: widgets/header/sensors.yaml }

  # boot screen
  boot_screen_sensors: !include { file: widgets/boot_screen/sensors.yaml }

  # sala
  sala_light_widget_sensors: !include { file: widgets/buttons/icon_text_buttons/light_buttons/sensors.yaml, vars: {
    uid: sala_light,
    entity_id: light.sala_light
  }}

  sala_tv_widget_sensors: !include { file: widgets/buttons/icon_buttons/stateful_sensors.yaml, vars: {
    uid: sala_tv,
    entity_id: media_player.sala_tv
  }}

  # habitacion
  habitacion_light_widget_sensors: !include { file: widgets/buttons/icon_text_buttons/light_buttons/sensors.yaml, vars: {
    uid: habitacion_light,
    entity_id: light.habitacion_light
  }}

  habitacion_fan_widget_sensors: !include { file: widgets/buttons/icon_buttons/stateful_sensors.yaml, vars: {
    uid: habitacion_fan,
    entity_id: fan.habitacion_fan
  }}
